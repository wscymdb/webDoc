# 1 shell基础

* shell是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序
* 用户可以用Shell来启动、挂起、停止或编写一些程序
* Shell还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强
* Shell是解释执行的脚本语言，在Shell中可以直接调用Linux的系统命令



## 1.1 echo

* 输出命令 类似js的console.log
* `-e`：激活转义符选项

```shell
# 输出hello
echo hello

# 添加-e 像\t \e这些都会被转义

# 下面输出结果是 a 换行之后输出 b
echo -e "a\nb"

# 下面输出结果是 a\nb 直接输出内容不会转义
echo "a\nb"
```

## 1.2 编写执行shell脚本

* shell脚本是以`.sh`结尾的文件
* 脚本文件内容必须以`#!/bin/bash`开头
* 执行文件使用 `sh 文件名`
* 不能直接以`./文件名`执行，因为默认创建的文件是没有执行权限的，需要`手动添加执行权限`才能这样执行

**举例**

```shell
# 编写一个 hello.sh文件
#!/bin/bash
echo hello
echo -e "a\tb"

# 执行
sh hello.sh
```

## 1.3 alias

* 此命令是用来`临时`给一个命令`起别名的`，当窗口关闭就会失效
* 删除别名使用`unalias 别名`即可

**案例**

```shell
# 想要给ls -a起一个别名为ls
# 这样只需输入 la 就相当于输入ls -a命令了
alias la="ls -a"


```



**永久生效方法**

* 想要永久生效需要修改`~/.bashrc`配置文件

**案例**

```shell
# 永久添加一个la别名 他表示的是ls -a命令
vi ~/.bashrc
# 然后添加如下命令
alias la="ls -a"

# 然后保存，然后输入如下命令使配置文件生效
source ~/.bashrc
#或者输入以下命令也可使配置文件生效
. ~/.bashrc
```

## 1.4 命令生效的顺序

**当在shell中输入命令按照以下的顺序查找**

* 绝对路径或相对路径
  * 比如输入/usr/bin/ls和ls这个命令的效果是一样的
* 别名
* bash内部的命令
* 按照`$PATH`环境变量定义的目录查找
  * $PATH中会定义几个目录
  * 查找的时候如果第一目录找不到就往后找，找到了就不往后继续找了

## 1.5 命令快捷键

| 命令   | 含义                       |
| ------ | -------------------------- |
| ctrl+c | 强制终止当前命令           |
| ctrl+l | 清屏，效果同clear命令      |
| ctrl+a | 光标移动到命令行首         |
| ctrl+e | 光标移动到命令行尾         |
| ctrl+u | 从光标所在的位置删除到行首 |

## 1.6 历史命令

**语法**

```shell
history [选项] [历史命令保存的文件]
```



**选项**

* -c 清空历史命令
* -w 把缓存中的历史命令写入对应的文件中一般是`~/.bash_history`

**案例**

```shell
# 查看所有的历史命令
history

# 清空历史命令
history -c

# 当我们在shell中输入过的命令 这些命令会在窗口关闭之后自动保存在~/.bash_history文件中
# 如果想要立马将命令保存进去输入下面的命令
history -w ~/.bash_history

# 或者想要将历史命令保存到别的文件中
history -w a.txt
```

